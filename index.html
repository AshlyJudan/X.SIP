<!-- This is a self-contained HTML document for the Surabhi Pytha Academy website's application form. -->
<!-- It uses Tailwind CSS for styling to create a responsive and modern layout. -->
<!-- The color theme is a golden accent (#D1AF60) on a light gray/white palette, with a dark header and footer. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surabhi Pytha Academy</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Georgia is a good, classic serif font. -->
    <link href="https://fonts.googleapis.com/css2?family=Georgia&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Georgia', serif;
            background-color: #ffffff; /* White background for the overall page */
        }
        /* Optional: Add smooth scroll behavior for the entire document */
        html {
            scroll-behavior: smooth;
        }
        /* Header styles for positioning the canvas */
        header {
            position: relative;
            overflow: hidden;
        }
        #logoCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* Place it behind the text and navigation */
        }
        /* Ensure the main content of the header (title, nav) appears above the canvas */
        .header-content-container {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        /* For medium and larger screens, make it a row and align items */
        @media (min-width: 640px) { /* Tailwind's sm breakpoint */
            .header-content-container {
                flex-direction: row;
            }
        }
        /* Styles for the new interactive shape animation container */
        #shape-animation-container {
            width: 100%;
            height: 350px;
            max-width: 600px;
            margin: 0 auto;
            border: 2px solid #e5e7eb; /* Light gray border */
            border-radius: 10px;
            overflow: hidden;
        }
        #shape-animation-canvas {
            width: 100%;
            height: 100%;
            background-color: transparent;
            display: block;
        }

        /* Custom Modal for validation messages, since alert() is not allowed */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more responsive */
            max-width: 400px;
            text-align: center;
            border-radius: 8px;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* New styles for fade-on-scroll animation */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- Header Section -->
    <header class="bg-black text-white shadow-lg py-6 px-4 sm:px-6 lg:px-8 rounded-b-lg">
        <!-- Canvas for animated sketch drawing, now full-size and behind content -->
        <canvas id="logoCanvas"></canvas>

        <div class="container mx-auto header-content-container flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <img src="SPA_Logo.png" alt="Surabhi Pytha Academy Logo" class="w-20 h-22">

                <h1 class="font-bold text-left">
                    <span class="text-4xl sm:text-5xl block leading-none" style="color: #ffda97;">SURABHI</span>
                    <span class="text-base sm:text-xl block leading-none" style="color: #ffda97;">PYTHA ACADEMY</span>
                </h1>
            </div>

            <nav>
                <ul class="flex space-x-6">
                    <li><a href="#about" class="hover:text-[#B5944B] transition duration-300">About Us</a></li>
                    <li><a href="#courses" class="hover:text-[#B5944B] transition duration-300">Courses</a></li>
                    <li><a href="#contact" class="hover:text-[#B5944B] transition duration-300">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section - this will be visible on page load, so we give it the is-visible class directly -->
    <section class="relative py-20 px-4 sm:px-6 lg:px-8 shadow-md rounded-lg mx-4 mt-8 bg-gray-100 fade-in-section is-visible">
        <div class="container mx-auto text-center">
            <!-- Adjusted text sizes for responsiveness -->
            <h2 class="text-3xl sm:text-5xl font-extrabold text-gray-900" style="color: #D1AF60;">Empowering Your Design Future</h2>
            <p class="text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                Whether you're designing beautiful spaces or crafting them with precision, PYTHA helps you bring ideas to life. Easy to learn and powerful to use, it's the perfect tool to connect creativity with hands-on work.
            </p>
            <a href="#courses" class="inline-block bg-[#D1AF60] hover:bg-[#B5944B] text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                Explore Our Courses
            </a>
        </div>
    </section>

    <!-- About Us Section - now with the fade-in class -->
    <section id="about" class="py-16 px-4 sm:px-6 lg:px-8 bg-white fade-in-section">
        <div class="container mx-auto text-center">
            <!-- Adjusted text sizes for responsiveness -->
            <h3 class="text-3xl sm:text-4xl font-bold text-gray-900" style="color: #D1AF60;">About Surabhi Pytha Academy</h3>
            <!-- Flex container for the two-column layout on medium screens and up -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center max-w-7xl mx-auto">
                <!-- Text Content for About Us -->
                <div class="text-left">
                    <p class="text-base sm:text-lg text-gray-600 leading-relaxed mb-6">
                        Surabhi Pytha Academy is a premier training center dedicated to empowering aspiring designers and professionals with cutting-edge skills in 3D CAD using PYTHA software. Backed by Surabhi Decor, a leading name in interior design and manufacturing, our academy blends real-world industry experience with expert-led training to ensure students gain both technical proficiency and practical insight.
                    </p>
                    <p class="text-base sm:text-lg text-gray-600 leading-relaxed">
                        Our mission is to bridge the gap between education and industry by providing hands-on, project-based learning, mentorship from experienced professionals, and placement assistance. Whether you're a student, architect, designer, or entrepreneur, we help you unlock your creative potential and build a successful career in 3D design with PYTHA CAD.
                    </p>
                </div>
                <!-- Container for the interactive shape animation -->
                <div id="shape-animation-container">
                    <canvas id="shape-animation-canvas"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Courses Section - now with the fade-in class -->
    <section id="courses" class="bg-gray-100 py-16 px-4 sm:px-6 lg:px-8 rounded-lg mx-4 fade-in-section">
        <div class="container mx-auto text-center">
            <!-- Adjusted text sizes for responsiveness -->
            <h3 class="text-3xl sm:text-4xl font-bold text-gray-900" style="color: #D1AF60;">Our Core Courses</h3>
            <!-- Changed grid classes for centering -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 justify-center">
                <!-- Course Card 1: Pytha Modeller Pack (Advanced) -->
                <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-2 flex flex-col">
                    <h4 class="text-xl sm:text-2xl font-semibold text-gray-900 mb-4" style="color: #D1AF60;">Pytha Modeller Pack (Advanced)</h4>
                    <ul class="text-left text-gray-600 list-disc list-inside mb-6 flex-grow">
                        <li>Understanding UI</li>
                        <li>3D Modelling</li>
                        <li>Advanced 3D Modelling</li>
                        <li>Library & Parametrics</li>
                        <li>Model Rendering</li>
                        <li>Parts List</li>
                        <li>Quotations</li>
                        <li>2D drawing</li>
                        <li>Bore Holes</li>
                        <li>Technical Details</li>
                        <li>Optimisation and Labelling</li>
                        <li>Cam Interface</li>
                        <li>Beam Saw Integration</li>
                        <li>CNC Machine Integration</li>
                    </ul>
                    <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 mt-auto">
                        <a href="pytha-modeller-pack.html" class="inline-block bg-[#D1AF60] hover:bg-[#B5944B] text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">Learn More</a>
                        <a href="application-form.html?course=Pytha Modeller Pack (Limited)" target="_blank" class="inline-block bg-[#D1AF60] hover:bg-[#B5944B] text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">Apply Now</a>
                    </div>
                </div>

                <!-- Course Card 2: Pytha Planner Pack (Limited) -->
                <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-2 flex flex-col">
                    <h4 class="text-xl sm:text-2xl font-semibold text-gray-900 mb-4" style="color: #D1AF60;">Pytha Planner Pack (Limited)</h4>
                    <ul class="text-left text-gray-600 list-disc list-inside mb-6 flex-grow">
                        <li>Understanding UI</li>
                        <li>Drag N Drop</li>
                        <li>Parts List</li>
                        <li>Technical Details</li>
                        <li>Rendering</li>
                    </ul>
                    <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 mt-auto">
                        <a href="pytha-planner-pack.html" class="inline-block bg-[#D1AF60] hover:bg-[#B5944B] text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">Learn More</a>
                        <a href="application-form.html?course=Pytha Planner Pack (Limited)" target="_blank" class="inline-block bg-[#D1AF60] hover:bg-[#B5944B] text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">Apply Now</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section - now with the fade-in class -->
    <section id="contact" class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-100 fade-in-section">
        <div class="container mx-auto text-center">
            <!-- Adjusted text sizes for responsiveness -->
            <h3 class="text-3xl sm:text-4xl font-bold text-gray-900" style="color: #D1AF60;">Get in Touch</h3>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg">
                <p class="text-base sm:text-lg text-gray-600 mb-6">
                    Have questions or ready to enroll? Contact us today!
                </p>
                <form class="space-y-6" id="contactForm">
                    <div>
                        <label for="name" class="block text-left text-gray-700 text-sm font-medium mb-2">Name</label>
                        <input type="text" id="name" name="name" class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#D1AF60]" placeholder="Your Name" required>
                    </div>
                    <div>
                        <label for="email" class="block text-left text-gray-700 text-sm font-medium mb-2">Email</label>
                        <input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#D1AF60]" placeholder="your@example.com" required>
                    </div>
                    <div>
                        <label for="message" class="block text-left text-gray-700 text-sm font-medium mb-2">Message</label>
                        <textarea id="message" name="message" rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#D1AF60]" placeholder="Your message..." required></textarea>
                    </div>
                    <!-- Message container for validation feedback -->
                    <div id="message-container" class="text-sm font-medium text-red-600"></div>

                    <button type="button" id="sendWhatsappBtn" class="w-full bg-[#D1AF60] hover:bg-[#B5944B] text-white font-bold py-3 px-6 rounded-md shadow-lg transition duration-300 transform hover:scale-105">
                        Send Message via WhatsApp
                    </button>
                </form>
                <div class="mt-8 text-gray-600 text-left">
                    <p><strong style="color: #D1AF60;">Address:</strong><br>Surabhi Pytha Academy,<br>2rd Floor, Top of Surabhi Module, Edappally - Pukkattupady Rd,<br>Kakkanad, Kochi,<br>India</p>
                    <p class="mt-2"><strong style="color: #D1AF60;">Phone:</strong> +91 8075098945</p>
                    <p class="mt-2"><strong style="color: #D1AF60;">Email:</strong> surabhipythaacademy@gmail.com</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Custom Modal UI for alerts, replacing alert() -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <p id="modal-message"></p>
        </div>
    </div>

    <!-- Footer Section - now with the social media links -->
    <footer class="bg-black text-white py-8 px-4 sm:px-6 lg:px-8 mt-12 rounded-t-lg fade-in-section">
        <div class="container mx-auto text-center">
            <p>&copy; 2025 Surabhi Pytha Academy. All rights reserved.</p>
            <!-- Social Media Links -->
            <div class="flex justify-center space-x-6 mt-4">
                <a href="https://www.instagram.com/surabhi_pytha_academy/" target="_blank" class="hover:text-[#B5944B] transition duration-300">
                    <!-- Instagram SVG Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram">
                        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                    </svg>
                </a>
                <a href="https://www.youtube.com/@SURABHIPYTHAACADEMY" target="_blank" class="hover:text-[#B5944B] transition duration-300">
                    <!-- YouTube SVG Icon (fixed aspect ratio and no color) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-youtube">
                        <path d="M22.54 6.42a2.84 2.84 0 0 0-2-2C19.46 4 12 4 12 4s-7.46 0-8.54.42a2.84 2.84 0 0 0-2 2C1 7.4 1 12 1 12s0 4.6.46 5.58a2.84 2.84 0 0 0 2 2C4.54 20 12 20 12 20s7.46 0 8.54-.42a2.84 2.84 0 0 0 2-2C23 16.6 23 12 23 12s0-4.6-.46-5.58z" />
                        <polygon points="10 15 15 12 10 9 10 15" />
                    </svg>
                </a>
            </div>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="#" class="hover:text-[#B5944B] transition duration-300">Privacy Policy</a>
                <a href="#" class="hover:text-[#B5944B] transition duration-300">Terms of Service</a>
            </div>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // This script block handles the header canvas animation and the new interactive shapes
        document.addEventListener('DOMContentLoaded', () => {
            // --- Header Sketch Animation ---
            const canvas = document.getElementById('logoCanvas');
            const ctx = canvas.getContext('2d');

            function setCanvasDimensions() {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
            }
            setCanvasDimensions();

            const shapes = [];
            const numShapes = 4;

            function createRandomShape(type) {
                return {
                    type: type,
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 15 + 10,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2
                };
            }

            for (let i = 0; i < numShapes; i++) {
                shapes.push(createRandomShape('triangle'));
                shapes.push(createRandomShape('square'));
                shapes.push(createRandomShape('circle'));
            }

            // Updated color for the animated shapes for visibility on a light background
            ctx.strokeStyle = '#D1AF60';
            ctx.lineWidth = 1;

            function drawShape(shape) {
                ctx.beginPath();
                if (shape.type === 'triangle') {
                    const h = shape.size * (Math.sqrt(3) / 2);
                    ctx.moveTo(shape.x, shape.y - h / 2);
                    ctx.lineTo(shape.x - shape.size / 2, shape.y + h / 2);
                    ctx.lineTo(shape.x + shape.size / 2, shape.y + h / 2);
                    ctx.closePath();
                } else if (shape.type === 'square') {
                    ctx.rect(shape.x - shape.size / 2, shape.y - shape.size / 2, shape.size, shape.size);
                } else if (shape.type === 'circle') {
                    ctx.arc(shape.x, shape.y, shape.size, 0, Math.PI * 2);
                }
                ctx.stroke();
            }

            function animateHeaderCanvas() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                shapes.forEach(shape => {
                    shape.x += shape.vx;
                    shape.y += shape.vy;
                    if (shape.type === 'circle') {
                        if (shape.x + shape.size > canvas.width) { shape.x = canvas.width - shape.size; shape.vx *= -1; }
                        else if (shape.x - shape.size < 0) { shape.x = shape.size; shape.vx *= -1; }
                        if (shape.y + shape.size > canvas.height) { shape.y = canvas.height - shape.size; shape.vy *= -1; }
                        else if (shape.y - shape.size < 0) { shape.y = shape.size; shape.vy *= -1; }
                    } else if (shape.type === 'square') {
                        if (shape.x + shape.size / 2 > canvas.width) { shape.x = canvas.width - shape.size / 2; shape.vx *= -1; }
                        else if (shape.x - shape.size / 2 < 0) { shape.x = shape.size / 2; shape.vx *= -1; }
                        if (shape.y + shape.size / 2 > canvas.height) { shape.y = canvas.height - shape.size / 2; shape.vy *= -1; }
                        else if (shape.y - shape.size / 2 < 0) { shape.y = shape.size / 2; shape.vy *= -1; }
                    } else if (shape.type === 'triangle') {
                        const h = shape.size * (Math.sqrt(3) / 2);
                        if (shape.x + shape.size / 2 > canvas.width) { shape.x = canvas.width - shape.size / 2; shape.vx *= -1; }
                        else if (shape.x - shape.size / 2 < 0) { shape.x = shape.size / 2; shape.vx *= -1; }
                        if (shape.y + h / 2 > canvas.height) { shape.y = canvas.height - h / 2; shape.vy *= -1; }
                        else if (shape.y - h / 2 < 0) { shape.y = h / 2; shape.vy *= -1; }
                    }
                    drawShape(shape);
                });
                requestAnimationFrame(animateHeaderCanvas);
            }

            // --- New Interactive Shapes Logic ---
            const shapeAnimationContainer = document.getElementById('shape-animation-container');
            const shapeAnimationCanvas = document.getElementById('shape-animation-canvas');
            const shapeCtx = shapeAnimationCanvas.getContext('2d');

            let mouse = { x: null, y: null };
            let repulsionRadius = 100;
            let repulsionStrength = 1.0;
            let dampingFactor = 0.95;
            let bounceFactor = -0.8;

            function resizeCanvas() {
                shapeAnimationCanvas.width = shapeAnimationContainer.clientWidth;
                shapeAnimationCanvas.height = shapeAnimationContainer.clientHeight;
                initShapes(); // Re-initialize shapes on resize to fit the new dimensions
            }

            let animatedShapes = [];

            function createShape(type) {
                return {
                    type: type,
                    x: Math.random() * shapeAnimationCanvas.width,
                    y: Math.random() * shapeAnimationCanvas.height,
                    size: Math.random() * 20 + 30, // Larger shapes for better visibility
                    vx: 0,
                    vy: 0
                };
            }

            function initShapes() {
                animatedShapes = [];
                animatedShapes.push(createShape('rectangle'));
                animatedShapes.push(createShape('triangle'));
                animatedShapes.push(createShape('circle'));
            }

            // Draw function for the new shapes, using the accent color
            function drawAnimatedShape(shape) {
                shapeCtx.fillStyle = '#D1AF60'; // A nice golden color
                shapeCtx.beginPath();
                if (shape.type === 'rectangle') {
                    shapeCtx.fillRect(shape.x - shape.size / 2, shape.y - shape.size / 2, shape.size, shape.size);
                } else if (shape.type === 'triangle') {
                    const h = shape.size * (Math.sqrt(3) / 2);
                    shapeCtx.moveTo(shape.x, shape.y - h / 2);
                    ctx.lineTo(shape.x - shape.size / 2, shape.y + h / 2);
                    ctx.lineTo(shape.x + shape.size / 2, shape.y + h / 2);
                    shapeCtx.closePath();
                    shapeCtx.fill();
                } else if (shape.type === 'circle') {
                    shapeCtx.arc(shape.x, shape.y, shape.size / 2, 0, Math.PI * 2);
                    shapeCtx.fill();
                }
            }

            // Animation loop for the interactive shapes
            function animateShapes() {
                shapeCtx.clearRect(0, 0, shapeAnimationCanvas.width, shapeAnimationCanvas.height);

                animatedShapes.forEach(shape => {
                    // Repulsion logic based on mouse position
                    if (mouse.x !== null && mouse.y !== null) {
                        const dx = shape.x - mouse.x;
                        const dy = shape.y - mouse.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < repulsionRadius) {
                            const forceDirectionX = dx / distance;
                            const forceDirectionY = dy / distance;
                            const force = (repulsionRadius - distance) / repulsionRadius * repulsionStrength;
                            shape.vx += forceDirectionX * force;
                            shape.vy += forceDirectionY * force;
                        }
                    }

                    // Repulsion logic between shapes
                    animatedShapes.forEach(otherShape => {
                        if (shape === otherShape) return;
                        const dx = shape.x - otherShape.x;
                        const dy = shape.y - otherShape.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        const minDistance = shape.size / 2 + otherShape.size / 2;

                        if (distance < minDistance) {
                            const forceDirectionX = dx / distance;
                            const forceDirectionY = dy / distance;
                            const force = (minDistance - distance) / minDistance * 0.5;
                            shape.vx += forceDirectionX * force;
                            otherShape.vx -= forceDirectionX * force;
                            shape.vy += forceDirectionY * force;
                            otherShape.vy -= forceDirectionY * force;
                        }
                    });

                    // Apply damping to slow down the shapes
                    shape.vx *= dampingFactor;
                    shape.vy *= dampingFactor;

                    // Update position
                    shape.x += shape.vx;
                    shape.y += shape.vy; // Corrected typo here

                    // Boundary collision detection and bounce
                    const size = shape.size / 2;
                    if (shape.x - size < 0 || shape.x + size > shapeAnimationCanvas.width) {
                        shape.vx *= bounceFactor;
                        if (shape.x - size < 0) shape.x = size;
                        else if (shape.x + size > shapeAnimationCanvas.width) shape.x = shapeAnimationCanvas.width - size;
                    }
                    if (shape.y - size < 0 || shape.y + size > shapeAnimationCanvas.height) {
                        shape.vy *= bounceFactor;
                        if (shape.y - size < 0) shape.y = size;
                        else if (shape.y + size > shapeAnimationCanvas.height) shape.y = shapeAnimationCanvas.height - size;
                    }
                    drawAnimatedShape(shape);
                });

                requestAnimationFrame(animateShapes);
            }

            // Mouse move listener to update mouse position
            shapeAnimationContainer.addEventListener('mousemove', (e) => {
                const rect = shapeAnimationCanvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });

            shapeAnimationContainer.addEventListener('mouseleave', () => {
                mouse.x = null;
                mouse.y = null;
            });

            // Handle window resizing
            window.addEventListener('resize', resizeCanvas);
            
            // Initial setup and animation start
            resizeCanvas();
            animateShapes();
            animateHeaderCanvas(); // Call to start the header animation
        });

        // --- Custom Modal Functions ---
        const modal = document.getElementById('myModal');
        const modalMessage = document.getElementById('modal-message');
        const closeBtn = document.getElementsByClassName('close-button')[0];

        // Function to show the modal with a specific message
        function showModal(message) {
            modalMessage.textContent = message;
            modal.style.display = 'flex';
        }

        // Function to close the modal
        function closeModal() {
            modal.style.display = 'none';
        }

        // When the user clicks on (x), close the modal
        closeBtn.onclick = function() {
            closeModal();
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        // --- Contact Form WhatsApp Integration (Updated) ---
        const sendWhatsappBtn = document.getElementById('sendWhatsappBtn');
        const contactForm = document.getElementById('contactForm');

        sendWhatsappBtn.addEventListener('click', function(e) {
            e.preventDefault();

            // Get form values
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();
            const messageContainer = document.getElementById('message-container');

            // Simple validation to ensure fields are not empty
            if (name === '' || email === '' || message === '') {
                messageContainer.textContent = 'Please fill out all fields before sending.';
                return; // Stop the function
            } else {
                messageContainer.textContent = ''; // Clear any previous error messages
            }

            // Set the phone number for WhatsApp
            const phoneNumber = '918075098945'; // Phone number with country code
            const formattedMessage = `Hello Surabhi Pytha Academy,\n\nI have a message from your website:\n\nName: ${name}\nEmail: ${email}\n\nMessage:\n${message}`;

            const encodedMessage = encodeURIComponent(formattedMessage);
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            
            // Open the WhatsApp link in a new tab
            window.open(whatsappUrl, '_blank');

            // Reset the form after successfully opening the link
            contactForm.reset();
        });

        // --- New Fade-on-Scroll Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.fade-in-section');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, {
                // The root is the viewport by default
                // threshold of 0.1 means the callback will fire as soon as 10% of the target is visible
                threshold: 0.1
            });

            sections.forEach(section => {
                // We only observe sections that are not already visible
                if (!section.classList.contains('is-visible')) {
                    observer.observe(section);
                }
            });
        });
    </script>
</body>
</html>
